<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="#d3d3d3">
  <title>Roundify</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}?v=2">
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>

<body>
  <main class="card">
    <h1>Roundify</h1>

    <label class="upload" for="file" id="uploadLabel">
      <input id="file" type="file" accept="video/*" hidden>
      <div id="progressBarFill"></div>
      <span id="fileLabel">Загрузить видео...</span>
    </label>

    <button id="convert">Конвертировать</button>

    <button type="button" class="chevron" id="chevron" aria-label="Advanced">
      <span></span><span></span>
    </button>

    <section class="advanced" id="advanced">
      <div class="slider-wrap">
        <label>Размер (px) <output id="sizeOut">640</output></label>
        <input type="range" id="size" min="240" max="1024" step="16" value="640">
      </div>

      <div class="slider-wrap">
        <label>Длительность (сек) <output id="durOut">60</output></label>
        <input type="range" id="duration" min="1" max="{{ max_clip_seconds }}" value="{{ max_clip_seconds }}">
      </div>

      <div class="slider-wrap">
        <label>Смещение начала видео (сек) <output id="offOut">0</output></label>
        <input type="range" id="offset" min="0" max="600" value="0">
      </div>

      <input type="text" id="token" placeholder="Bot token">
      <input type="text" id="chat" placeholder="@channel or chat-id">

      <p class="small">Заполните оба поля для отправки кружочка в Telegram.</p>
      <p id="status" class="result"></p>
    </section>

  </main>
  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>

</html>